<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Student Login | BloomELearning âœ¨</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<header>
  <div class="container">
    <div class="logo">BloomELearning âœ¨</div>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="progress.html">My Progress</a></li>
        <li><a href="games.html">Character Games</a></li>
        <li><a href="parent.html">Parent Resources</a></li>
      </ul>
    </nav>
  </div>
</header>

<section class="hero">
  <div class="container">
    <h1>ğŸ‘‹ Student Login</h1>
    <p>Pick your buddy and type your 4-number PIN.</p>
  </div>
</section>

<section class="section">
  <div class="container">
    <h2 class="section-title">Choose Your Buddy ğŸ¾</h2>

    <div class="game-box">
      <div class="kid-big">1) Tap a character:</div>
      <div class="char-grid" id="charGrid"></div>

      <div style="margin-top:14px;" class="kid-big">2) Type your PIN (4 numbers):</div>
      <div class="game-row">
        <input id="pin" class="pin-input" inputmode="numeric" maxlength="4" placeholder="1234" />
        <button class="btn" id="loginBtn">Log In</button>
        <button class="btn secondary" id="logoutBtn">Log Out</button>
      </div>

      <div class="status" id="status"></div>
      <p class="small" style="margin-top:10px;">
        This is a pretend login. It saves your character on this device only.
      </p>
    </div>
  </div>
</section>

<footer>Â© 2026 BloomELearning âœ¨ | Made with ğŸ’š</footer>

<script>
  const characters = [
    { id:"bunny", emoji:"ğŸ°", name:"Bunny" },
    { id:"panda", emoji:"ğŸ¼", name:"Panda" },
    { id:"fox", emoji:"ğŸ¦Š", name:"Foxy" },
    { id:"cat", emoji:"ğŸ±", name:"Kitty" },
    { id:"dog", emoji:"ğŸ¶", name:"Puppy" },
    { id:"owl", emoji:"ğŸ¦‰", name:"Ollie Owl" },
    { id:"unicorn", emoji:"ğŸ¦„", name:"Uni" },
    { id:"dino", emoji:"ğŸ¦–", name:"Dino" }
  ];

  const charGrid = document.getElementById("charGrid");
  const statusEl = document.getElementById("status");
  const pinEl = document.getElementById("pin");

  let selected = localStorage.getItem("bloom_student_character") || "bunny";

  function renderCharacters() {
    charGrid.innerHTML = "";
    characters.forEach(c => {
      const div = document.createElement("div");
      div.className = "char-card" + (c.id === selected ? " selected" : "");
      div.innerHTML = `<div class="char-emoji">${c.emoji}</div><div class="char-name">${c.name}</div>`;
      div.onclick = () => {
        selected = c.id;
        localStorage.setItem("bloom_student_character", selected);
        renderCharacters();
        statusEl.textContent = `âœ… Selected: ${c.name}`;
      };
      charGrid.appendChild(div);
    });
  }

  function getCharName(id){
    const c = characters.find(x => x.id === id);
    return c ? c.name : "Buddy";
  }

  document.getElementById("loginBtn").addEventListener("click", () => {
    const pin = pinEl.value.trim();
    if (!/^\d{4}$/.test(pin)) {
      statusEl.textContent = "âŒ Please enter a 4-digit PIN.";
      return;
    }
    localStorage.setItem("bloom_student_pin", pin);
    localStorage.setItem("bloom_student_logged_in", "true");
    statusEl.textContent = `ğŸ‰ Welcome, ${getCharName(selected)}!`;
  });

  document.getElementById("logoutBtn").addEventListener("click", () => {
    localStorage.setItem("bloom_student_logged_in", "false");
    statusEl.textContent = "ğŸ‘‹ Logged out!";
  });

  renderCharacters();
  const logged = localStorage.getItem("bloom_student_logged_in") === "true";
  statusEl.textContent = logged ? `âœ… Youâ€™re logged in as ${getCharName(selected)}.` : "Pick a buddy to begin!";
</script>

</body>
</html>
