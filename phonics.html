<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Phonics | BloomELearning âœ¨</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css">
</head>
<body>

<header>
  <div class="container">
    <div class="logo">BloomELearning âœ¨</div>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>

        <li class="dropdown">
          <a href="#">Subjects</a>
          <div class="dropdown-menu">
            <a href="phonics.html">ğŸ”¤ Phonics</a>
            <a href="reading.html">ğŸ“– Reading</a>
            <a href="math.html">â• Math</a>
            <a href="letter-formation.html">âœï¸ Letter Tracing</a>
          </div>
        </li>

        <li class="dropdown">
          <a href="#">Resources</a>
          <div class="dropdown-menu">
            <a href="resources.html">ğŸ¥ Kids Resources</a>
            <a href="parent-resources.html">ğŸ§‘â€ğŸ« Parent Resources</a>
            <a href="standards.html">ğŸ“˜ Standards (Kâ€“2)</a>
          </div>
        </li>

        <li class="dropdown">
          <a href="#">Student</a>
          <div class="dropdown-menu">
            <a href="student-login.html">ğŸ§’ Student Login</a>
            <a href="progress.html">ğŸ“Š My Progress</a>
            <a href="sticker-book.html">ğŸ“– Sticker Book</a>
          </div>
        </li>

        <li><a href="games.html">ğŸ® Games</a></li>
        <li><a href="diagnostic.html">ğŸ§  Diagnostic</a></li>
      </ul>
    </nav>
  </div>
</header>

<section class="hero">
  <div class="container">
    <h1>Phonics ğŸ”¤</h1>
    <p>Pick a grade, listen to the sound, and choose the right letter!</p>
    <div class="quick-strip">
      <button class="btn secondary" id="soundBtn">ğŸ”Š Read Question</button>
      <a class="btn secondary" href="progress.html">My Progress</a>
    </div>
  </div>
</section>

<section class="section">
  <div class="container">
    <h2 class="section-title">Pick a Grade ğŸŒŸ</h2>

    <div class="game-box wide">
      <div class="badge-row">
        <button class="pill active" data-grade="K">Kindergarten</button>
        <button class="pill" data-grade="1">Grade 1</button>
        <button class="pill" data-grade="2">Grade 2</button>
      </div>

      <div class="game-box" style="margin-top:14px;">
        <p class="kid-big" id="question">Question loads hereâ€¦</p>
        <p class="small" id="hint">Hint loads hereâ€¦</p>

        <div class="grid-3" id="choices" style="margin-top:14px;"></div>

        <p class="kid-big" id="result" style="margin-top:14px;"></p>

        <div class="quick-strip">
          <button class="btn" id="nextBtn">Next</button>
          <button class="btn secondary" id="resetBtn">Reset Stars</button>
        </div>

        <p class="small" style="margin-top:10px;">
          Earn â­ for correct answers. Saved on this device.
        </p>
      </div>
    </div>
  </div>
</section>

<footer>Â© 2026 BloomELearning âœ¨ | Made with ğŸ’š</footer>

<script>
  const PROG_KEY = "bloom_progress";

  function loadProgress(){
    try { return JSON.parse(localStorage.getItem(PROG_KEY) || "{}"); }
    catch { return {}; }
  }
  function saveProgress(p){
    localStorage.setItem(PROG_KEY, JSON.stringify(p));
  }
  function speak(text){
    if (!("speechSynthesis" in window)) return;
    speechSynthesis.cancel();
    const u = new SpeechSynthesisUtterance(text);
    u.rate = 1;
    speechSynthesis.speak(u);
  }

  const gradeSets = {
    "K": [
      { sound:"/m/", correct:"M", choices:["M","S","T"], hint:"M makes /m/ like 'moon'." },
      { sound:"/s/", correct:"S", choices:["B","S","D"], hint:"S makes /s/ like 'sun'." },
      { sound:"/t/", correct:"T", choices:["T","A","P"], hint:"T makes /t/ like 'top'." }
    ],
    "1": [
      { sound:"/sh/", correct:"SH", choices:["CH","SH","TH"], hint:"SH like 'ship'." },
      { sound:"/ch/", correct:"CH", choices:["CH","PH","WH"], hint:"CH like 'chop'." },
      { sound:"/th/", correct:"TH", choices:["TH","SH","CH"], hint:"TH like 'this' or 'thumb'." }
    ],
    "2": [
      { sound:"long A (ai/ay)", correct:"AI", choices:["AI","OA","EE"], hint:"AI like 'rain'." },
      { sound:"long E (ee/ea)", correct:"EE", choices:["EE","OO","AI"], hint:"EE like 'feet'." },
      { sound:"long O (oa/ow)", correct:"OA", choices:["OA","EE","AI"], hint:"OA like 'boat'." }
    ]
  };

  let grade = "K";
  let idx = 0;

  function renderGradeButtons(){
    document.querySelectorAll(".pill").forEach(btn=>{
      btn.classList.toggle("active", btn.dataset.grade === grade);
    });
  }

  function renderQuestion(){
    const q = gradeSets[grade][idx % gradeSets[grade].length];
    document.getElementById("question").textContent = `What letters make ${q.sound}?`;
    document.getElementById("hint").textContent = q.hint;
    document.getElementById("result").textContent = "";

    const choices = document.getElementById("choices");
    choices.innerHTML = "";
    q.choices.forEach(c=>{
      const card = document.createElement("div");
      card.className = "card";
      card.style.textAlign = "center";
      card.innerHTML = `<h3 style="font-size:34px; margin-bottom:6px;">${c}</h3><p class="small">Tap me!</p>`;
      card.onclick = ()=> checkAnswer(c, q.correct);
      choices.appendChild(card);
    });
  }

  function addStar(){
    const p = loadProgress();
    p.phonicsStars = (p.phonicsStars || 0) + 1;
    saveProgress(p);
  }

  function checkAnswer(choice, correct){
    if (choice === correct){
      document.getElementById("result").textContent = "Correct! â­";
      addStar();
      speak("Correct!");
    } else {
      document.getElementById("result").textContent = "Try again ğŸ™‚";
      speak("Try again.");
    }
  }

  document.querySelectorAll(".pill").forEach(btn=>{
    btn.onclick = ()=>{
      grade = btn.dataset.grade;
      idx = 0;
      renderGradeButtons();
      renderQuestion();
    };
  });

  document.getElementById("nextBtn").onclick = ()=>{
    idx++;
    renderQuestion();
  };

  document.getElementById("resetBtn").onclick = ()=>{
    const p = loadProgress();
    p.phonicsStars = 0;
    saveProgress(p);
    alert("Phonics stars reset!");
  };

  document.getElementById("soundBtn").onclick = ()=>{
    const qText = document.getElementById("question").textContent;
    speak(qText);
  };

  renderGradeButtons();
  renderQuestion();
</script>

</body>
</html>
