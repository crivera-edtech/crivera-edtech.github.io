<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Phonics | BloomELearning âœ¨</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<header>
  <div class="container">
    <div class="logo">BloomELearning âœ¨</div>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="reading.html">Reading</a></li>
        <li><a href="math.html">Math</a></li>
        <li><a href="progress.html">My Progress</a></li>
        <li><a href="parent.html">Parent Resources</a></li>
      </ul>
    </nav>
  </div>
</header>

<section class="hero">
  <div class="container">
    <h1>ğŸ”¤ Phonics</h1>
    <p>Pick a grade, listen, and choose the best answer!</p>
  </div>
</section>

<section class="section">
  <div class="container">
    <h2 class="section-title">Bunny Sound Hunt ğŸ°</h2>

    <div class="game-box">
      <div class="kid-big">Choose grade:</div>
      <div class="grade-row">
        <button class="select" data-grade="K">Kindergarten</button>
        <button class="select" data-grade="1">1st Grade</button>
        <button class="select" data-grade="2">2nd Grade</button>
      </div>

      <div id="prompt" style="margin-top:18px; font-size:22px; font-weight:900;">Pick a grade to start!</div>

      <div class="game-row">
        <button class="btn secondary" id="readBtn" disabled>ğŸ”Š Read</button>
        <button class="btn secondary" id="newBtn" disabled>New</button>
        <button class="btn secondary" id="resetBtn" disabled>Reset Score</button>
      </div>

      <div class="game-row" id="choices"></div>

      <div class="status" id="status">Score: 0</div>
      <div class="small" id="saveNote"></div>
    </div>
  </div>
</section>

<footer>Â© 2026 BloomELearning âœ¨ | Made with ğŸ’š</footer>

<script>
  const banks = {
    K: [
      { q:"Which word starts with /m/?", say:"Which word starts with the m sound?", options:["moon","sun","hat"], correct:0 },
      { q:"Which word starts with /s/?", say:"Which word starts with the s sound?", options:["sock","cat","map"], correct:0 },
      { q:"Which word ends with /t/?", say:"Which word ends with the t sound?", options:["bat","bee","go"], correct:0 },
      { q:"Which word starts with /b/?", say:"Which word starts with the b sound?", options:["ball","rain","sun"], correct:0 }
    ],
    1: [
      { q:"Which word has a short a sound?", say:"Which word has a short a sound?", options:["cat","cake","cone"], correct:0 },
      { q:"Which word has /sh/?", say:"Which word has the sh sound?", options:["ship","sip","lip"], correct:0 },
      { q:"Which word has /ch/?", say:"Which word has the ch sound?", options:["chin","thin","fin"], correct:0 },
      { q:"Which word has a long i sound?", say:"Which word has a long i sound?", options:["bike","bit","bin"], correct:0 }
    ],
    2: [
      { q:"Which word has a vowel team?", say:"Which word has a vowel team?", options:["boat","bat","bit"], correct:0 },
      { q:"Which word has a long a sound?", say:"Which word has a long a sound?", options:["rain","ran","ring"], correct:0 },
      { q:"Which word has an r-controlled vowel?", say:"Which word has an r-controlled vowel?", options:["car","cap","cake"], correct:0 },
      { q:"Which word has a silent e?", say:"Which word has silent e?", options:["cake","cat","cap"], correct:0 }
    ]
  };

  let grade = null;
  let score = 0;
  let current = null;

  const promptEl = document.getElementById("prompt");
  const choicesEl = document.getElementById("choices");
  const statusEl = document.getElementById("status");
  const saveNoteEl = document.getElementById("saveNote");
  const readBtn = document.getElementById("readBtn");
  const newBtn = document.getElementById("newBtn");
  const resetBtn = document.getElementById("resetBtn");

  function keyForGrade(g){ return `bloom_phonics_${g}_score`; }

  function speak(text){
    if (!("speechSynthesis" in window)) return;
    window.speechSynthesis.cancel();
    const u = new SpeechSynthesisUtterance(text);
    u.rate = 1; u.pitch = 1.05;
    window.speechSynthesis.speak(u);
  }

  function loadScore(){
    score = parseInt(localStorage.getItem(keyForGrade(grade)) || "0", 10);
    statusEl.textContent = `Score: ${score}`;
    saveNoteEl.textContent = `Saved for grade ${grade}.`;
  }

  function saveScore(){
    localStorage.setItem(keyForGrade(grade), String(score));
  }

  function newQuestion(){
    const bank = banks[grade];
    current = bank[Math.floor(Math.random() * bank.length)];
    promptEl.textContent = current.q;

    choicesEl.innerHTML = "";
    current.options.forEach((opt, idx) => {
      const b = document.createElement("button");
      b.className = "pill";
      b.textContent = opt;
      b.onclick = () => {
        if (idx === current.correct) {
          score++;
          saveScore();
          statusEl.textContent = `âœ… Correct! Score: ${score}`;
          setTimeout(newQuestion, 650);
        } else {
          statusEl.textContent = `âŒ Try again! Score: ${score}`;
        }
      };
      choicesEl.appendChild(b);
    });
  }

  readBtn.onclick = () => { if (current) speak(current.say || current.q); };
  newBtn.onclick = newQuestion;
  resetBtn.onclick = () => { score = 0; saveScore(); statusEl.textContent = "Score: 0"; };

  document.querySelectorAll(".select").forEach(btn => {
    btn.addEventListener("click", () => {
      grade = btn.getAttribute("data-grade");
      readBtn.disabled = false;
      newBtn.disabled = false;
      resetBtn.disabled = false;
      loadScore();
      newQuestion();
    });
  });
</script>

</body>
</html>
