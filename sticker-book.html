<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Sticker Book | BloomELearning âœ¨</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css">
</head>
<body>

<header>
  <div class="container">
    <div class="logo">BloomELearning âœ¨</div>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>

        <li class="dropdown">
          <a href="#">Subjects</a>
          <div class="dropdown-menu">
            <a href="phonics.html">ğŸ”¤ Phonics</a>
            <a href="reading.html">ğŸ“– Reading</a>
            <a href="math.html">â• Math</a>
            <a href="letter-formation.html">âœï¸ Letter Tracing</a>
          </div>
        </li>

        <li class="dropdown">
          <a href="#">Resources</a>
          <div class="dropdown-menu">
            <a href="resources.html">ğŸ¥ Kids Resources</a>
            <a href="parent-resources.html">ğŸ§‘â€ğŸ« Parent Resources</a>
            <a href="standards.html">ğŸ“˜ Standards (Kâ€“2)</a>
          </div>
        </li>

        <li class="dropdown">
          <a href="#">Student</a>
          <div class="dropdown-menu">
            <a href="student-login.html">ğŸ§’ Student Login</a>
            <a href="progress.html">ğŸ“Š My Progress</a>
            <a href="sticker-book.html">ğŸ“– Sticker Book</a>
          </div>
        </li>

        <li><a href="games.html">ğŸ® Games</a></li>
        <li><a href="diagnostic.html">ğŸ§  Diagnostic</a></li>
      </ul>
    </nav>
  </div>
</header>

<section class="hero">
  <div class="container">
    <h1>Sticker Book ğŸ“–</h1>
    <p>Trace letters and numbers to earn stickers â­</p>
    <div class="quick-strip">
      <a class="btn" href="resources.html#tracing">Earn Stickers</a>
      <a class="btn secondary" href="progress.html">My Progress</a>
      <button class="btn secondary" id="readBtn">ğŸ”Š Read</button>
    </div>
  </div>
</section>

<section class="section">
  <div class="container">
    <h2 class="section-title">My Stickers â­</h2>

    <div class="game-box wide">
      <div class="badge-row">
        <span class="badge" id="countBadge">ğŸ Stickers: 0</span>
        <span class="badge" id="uniqueBadge">ğŸŒŸ Unique: 0</span>
      </div>

      <div id="emptyBox" class="game-box" style="margin-top:14px; display:none;">
        <p class="kid-big">No stickers yet ğŸ§¸</p>
        <p class="small">Go trace a letter to earn your first sticker!</p>
        <div class="quick-strip">
          <a class="btn" href="resources.html#tracing">Start Tracing</a>
        </div>
      </div>

      <div id="grid" class="sticker-grid"></div>

      <div class="quick-strip" style="margin-top:14px;">
        <button class="btn secondary" id="clearBtn">Reset Sticker Book</button>
      </div>

      <p class="small" style="margin-top:10px;">Saved on this device (browser storage).</p>
    </div>
  </div>
</section>

<footer>Â© 2026 BloomELearning âœ¨ | Made with ğŸ’š</footer>

<script>
  const STICKER_KEY = "bloom_sticker_book";

  function load(){
    try { return JSON.parse(localStorage.getItem(STICKER_KEY) || "[]"); }
    catch { return []; }
  }
  function save(list){
    localStorage.setItem(STICKER_KEY, JSON.stringify(list));
  }
  function speak(text){
    if (!("speechSynthesis" in window)) return;
    speechSynthesis.cancel();
    const u = new SpeechSynthesisUtterance(text);
    u.rate = 1;
    speechSynthesis.speak(u);
  }

  function render(){
    const stickers = load();
    document.getElementById("countBadge").textContent = `ğŸ Stickers: ${stickers.length}`;
    document.getElementById("uniqueBadge").textContent = `ğŸŒŸ Unique: ${new Set(stickers.map(s=>s.emoji)).size}`;

    const empty = document.getElementById("emptyBox");
    const grid = document.getElementById("grid");

    if (stickers.length === 0){
      empty.style.display = "block";
      grid.innerHTML = "";
      return;
    }
    empty.style.display = "none";

    grid.innerHTML = stickers.slice().reverse().map(s => {
      const d = new Date(s.time).toLocaleString();
      return `
        <div class="sticker-card">
          <div class="sticker-big">${s.emoji}</div>
          <div class="sticker-label">${s.item}</div>
          <div class="small">${s.perfect ? "Perfect Trace â­" : "Great Trace ğŸ‘"}</div>
          <div class="small">${d}</div>
        </div>
      `;
    }).join("");
  }

  document.getElementById("clearBtn").onclick = () => {
    if (!confirm("Reset Sticker Book?")) return;
    save([]);
    render();
  };

  document.getElementById("readBtn").onclick = () => {
    const stickers = load();
    if (stickers.length === 0) speak("Sticker book. No stickers yet. Trace a letter to earn one!");
    else speak(`Sticker book. You have ${stickers.length} stickers. Great job!`);
  };

  render();
</script>

</body>
</html>
