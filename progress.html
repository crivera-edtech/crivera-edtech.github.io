<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>My Progress | BloomELearning âœ¨</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css">
</head>
<body>

<header>
  <div class="container">
    <div class="logo">BloomELearning âœ¨</div>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>

        <li class="dropdown">
          <a href="#">Subjects</a>
          <div class="dropdown-menu">
            <a href="phonics.html">ğŸ”¤ Phonics</a>
            <a href="reading.html">ğŸ“– Reading</a>
            <a href="math.html">â• Math</a>
            <a href="letter-formation.html">âœï¸ Letter Tracing</a>
          </div>
        </li>

        <li class="dropdown">
          <a href="#">Resources</a>
          <div class="dropdown-menu">
            <a href="resources.html">ğŸ¥ Kids Resources</a>
            <a href="parent-resources.html">ğŸ§‘â€ğŸ« Parent Resources</a>
            <a href="standards.html">ğŸ“˜ Standards (Kâ€“2)</a>
          </div>
        </li>

        <li class="dropdown">
          <a href="#">Student</a>
          <div class="dropdown-menu">
            <a href="student-login.html">ğŸ§’ Student Login</a>
            <a href="progress.html">ğŸ“Š My Progress</a>
            <a href="sticker-book.html">ğŸ“– Sticker Book</a>
          </div>
        </li>

        <li><a href="games.html">ğŸ® Games</a></li>
        <li><a href="diagnostic.html">ğŸ§  Diagnostic</a></li>
      </ul>
    </nav>
  </div>
</header>

<section class="hero">
  <div class="container">
    <h1>My Progress ğŸ“Š</h1>
    <p>Stars and daily missions save on this device.</p>
    <div class="quick-strip">
      <a class="btn" href="phonics.html">Go to Phonics</a>
      <a class="btn secondary" href="sticker-book.html">Sticker Book</a>
      <button class="btn secondary" id="resetAllBtn">Reset All</button>
    </div>
  </div>
</section>

<section class="section">
  <div class="container">

    <div class="progress-layout">

      <!-- LEFT: Progress panel -->
      <aside class="progress-left">
        <div class="card">
          <p class="kid-big">â­ Stars</p>
          <p class="small">Earn stars by answering correctly.</p>

          <div class="stat-row">
            <div class="stat">
              <div class="num" id="phonicsStars">0</div>
              <div class="label">Phonics</div>
            </div>
            <div class="stat">
              <div class="num" id="readingStars">0</div>
              <div class="label">Reading</div>
            </div>
            <div class="stat">
              <div class="num" id="mathStars">0</div>
              <div class="label">Math</div>
            </div>
            <div class="stat">
              <div class="num" id="gamesStars">0</div>
              <div class="label">Games</div>
            </div>
          </div>

          <div class="mission">
            <h3>Todayâ€™s Mission ğŸŒ¿</h3>
            <p class="small">Goal: 3 Phonics + 2 Reading + 2 Math</p>

            <p class="small" style="margin-top:10px;">Phonics</p>
            <div class="meter"><div id="mPhonics"></div></div>

            <p class="small" style="margin-top:10px;">Reading</p>
            <div class="meter"><div id="mReading"></div></div>

            <p class="small" style="margin-top:10px;">Math</p>
            <div class="meter"><div id="mMath"></div></div>

            <p class="small" style="margin-top:10px;" id="missionNote"></p>
          </div>

          <div class="quick-strip" style="margin-top:12px;">
            <button class="btn secondary" id="resetMissionBtn">Reset Today</button>
          </div>
        </div>
      </aside>

      <!-- RIGHT: Centered content -->
      <main class="progress-right">
        <div class="game-box wide">
          <h2 class="section-title" style="margin-bottom:8px;">Keep Going! ğŸŒŸ</h2>
          <p class="small">Try a quick activity and come back to see your stars grow.</p>

          <div class="grid-3" style="margin-top:16px;">
            <div class="card" style="text-align:center;">
              <h3>ğŸ”¤ Phonics</h3>
              <p class="small">Sounds + names + fun games.</p>
              <a class="btn" href="phonics.html">Play</a>
            </div>

            <div class="card" style="text-align:center;">
              <h3>ğŸ“– Reading</h3>
              <p class="small">Short passages + questions.</p>
              <a class="btn" href="reading.html">Read</a>
            </div>

            <div class="card" style="text-align:center;">
              <h3>â• Math</h3>
              <p class="small">Quick math practice.</p>
              <a class="btn" href="math.html">Solve</a>
            </div>
          </div>

          <div class="game-box" style="margin-top:16px; text-align:center;">
            <p class="kid-big">Sticker Tip ğŸ</p>
            <p class="small">When you earn stars, you can â€œcelebrateâ€ in the Sticker Book.</p>
            <div class="quick-strip">
              <a class="btn secondary" href="sticker-book.html">Open Sticker Book</a>
            </div>
          </div>

        </div>
      </main>

    </div>
  </div>
</section>

<footer>Â© 2026 BloomELearning âœ¨ | Made with ğŸ’š</footer>

<script>
  const PROG_KEY = "bloom_progress";
  const MISSION_KEY = "bloom_daily_mission";

  function load(key, fallback){
    try { return JSON.parse(localStorage.getItem(key) || JSON.stringify(fallback)); }
    catch { return fallback; }
  }
  function save(key, obj){ localStorage.setItem(key, JSON.stringify(obj)); }

  function todayKey(){
    const d = new Date();
    const y = d.getFullYear();
    const m = String(d.getMonth()+1).padStart(2,"0");
    const day = String(d.getDate()).padStart(2,"0");
    return `${y}-${m}-${day}`;
  }

  function ensureMission(){
    const t = todayKey();
    let ms = load(MISSION_KEY, null);
    if (!ms || ms.date !== t){
      ms = { date: t, phonics:0, reading:0, math:0 };
      save(MISSION_KEY, ms);
    }
    return ms;
  }

  function pct(val, goal){
    const p = Math.min(100, Math.round((val / goal) * 100));
    return p;
  }

  function render(){
    const p = load(PROG_KEY, { phonicsStars:0, readingStars:0, mathStars:0, gamesStars:0 });

    document.getElementById("phonicsStars").textContent = p.phonicsStars || 0;
    document.getElementById("readingStars").textContent = p.readingStars || 0;
    document.getElementById("mathStars").textContent = p.mathStars || 0;
    document.getElementById("gamesStars").textContent = p.gamesStars || 0;

    const ms = ensureMission();
    const gP = 3, gR = 2, gM = 2;

    document.getElementById("mPhonics").style.width = pct(ms.phonics || 0, gP) + "%";
    document.getElementById("mReading").style.width = pct(ms.reading || 0, gR) + "%";
    document.getElementById("mMath").style.width = pct(ms.math || 0, gM) + "%";

    const done = (ms.phonics>=gP && ms.reading>=gR && ms.math>=gM);
    document.getElementById("missionNote").textContent = done
      ? "âœ… Mission complete! Great job!"
      : `Progress today: Phonics ${ms.phonics||0}/${gP}, Reading ${ms.reading||0}/${gR}, Math ${ms.math||0}/${gM}`;
  }

  document.getElementById("resetAllBtn").onclick = ()=>{
    if (!confirm("Reset ALL saved stars and todayâ€™s mission on this device?")) return;
    localStorage.removeItem(PROG_KEY);
    localStorage.removeItem(MISSION_KEY);
    render();
  };

  document.getElementById("resetMissionBtn").onclick = ()=>{
    if (!confirm("Reset todayâ€™s mission only?")) return;
    localStorage.removeItem(MISSION_KEY);
    render();
  };

  render();
</script>

</body>
</html>
