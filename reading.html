<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Reading | BloomELearning âœ¨</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<header>
  <div class="container">
    <div class="logo">BloomELearning âœ¨</div>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="phonics.html">Phonics</a></li>
        <li><a href="math.html">Math</a></li>
        <li><a href="progress.html">My Progress</a></li>
        <li><a href="parent.html">Parent Resources</a></li>
      </ul>
    </nav>
  </div>
</header>

<section class="hero">
  <div class="container">
    <h1>ğŸ“– Reading</h1>
    <p>Read a tiny passage, listen if you want, and answer the question.</p>
  </div>
</section>

<section class="section">
  <div class="container">
    <h2 class="section-title">Panda Story Time ğŸ¼</h2>

    <div class="game-box">
      <div id="passage" style="line-height:1.6; font-size:18px;"></div>
      <div id="question" style="margin-top:12px; font-size:22px; font-weight:900;"></div>

      <div class="game-row">
        <button class="btn secondary" id="readBtn">ğŸ”Š Read Aloud</button>
        <button class="btn secondary" id="newBtn">New Story</button>
        <button class="btn secondary" id="resetBtn">Reset Score</button>
      </div>

      <div class="game-row" id="choices"></div>

      <div class="status" id="status"></div>
      <div class="small">Score saves on this device.</div>
    </div>
  </div>
</section>

<footer>Â© 2026 BloomELearning âœ¨ | Made with ğŸ’š</footer>

<script>
  const stories = [
    {
      passage: "Mia put on her rain boots and grabbed an umbrella. Dark clouds filled the sky.",
      q: "What is the weather probably like?",
      options: ["Rainy", "Snowy", "Sunny"],
      correct: 0
    },
    {
      passage: "Ben practiced reading every day. After a week, he read the book smoothly.",
      q: "What helped Ben improve?",
      options: ["Practice", "Sleeping", "Skipping"],
      correct: 0
    },
    {
      passage: "Avaâ€™s puppy barked when the doorbell rang. Ava went to see who was there.",
      q: "What made the puppy bark?",
      options: ["Doorbell", "A sandwich", "A balloon"],
      correct: 0
    },
    {
      passage: "Sam packed a lunch because he was going on a field trip to the zoo.",
      q: "Why did Sam pack a lunch?",
      options: ["Field trip", "Bedtime", "Dinner party"],
      correct: 0
    }
  ];

  let score = parseInt(localStorage.getItem("bloom_reading_score") || "0", 10);
  let current = null;

  const passageEl = document.getElementById("passage");
  const questionEl = document.getElementById("question");
  const choicesEl = document.getElementById("choices");
  const statusEl = document.getElementById("status");

  function speak(text){
    if (!("speechSynthesis" in window)) return;
    window.speechSynthesis.cancel();
    const u = new SpeechSynthesisUtterance(text);
    u.rate = 1; u.pitch = 1.05;
    window.speechSynthesis.speak(u);
  }

  function save(){ localStorage.setItem("bloom_reading_score", String(score)); }

  function newStory(){
    current = stories[Math.floor(Math.random() * stories.length)];
    passageEl.textContent = current.passage;
    questionEl.textContent = current.q;

    choicesEl.innerHTML = "";
    current.options.forEach((opt, idx) => {
      const b = document.createElement("button");
      b.className = "pill";
      b.textContent = opt;
      b.onclick = () => {
        if (idx === current.correct) {
          score++;
          save();
          statusEl.textContent = `âœ… Correct! Score: ${score}`;
          setTimeout(newStory, 700);
        } else {
          statusEl.textContent = `âŒ Try again! Score: ${score}`;
        }
      };
      choicesEl.appendChild(b);
    });

    statusEl.textContent = `Score: ${score}`;
  }

  document.getElementById("readBtn").onclick = () => {
    if (!current) return;
    speak(`${current.passage} Ø³Ø¤Ø§Ù„: ${current.q}`);
  };
  document.getElementById("newBtn").onclick = newStory;
  document.getElementById("resetBtn").onclick = () => { score = 0; save(); statusEl.textContent = "Score: 0"; };

  newStory();
</script>

</body>
</html>
